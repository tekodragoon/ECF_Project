{% block javascript %}
{{ encore_entry_script_tags('upload') }}
{% endblock %}

<form
		enctype="multipart/form-data"
		hx-post="{{ path('app_management_add-image') }}"
		hx-target="this"
		hx-swap="outerHTML">

	{{ include('_flash-message.html.twig') }}

	<div class="card">
		{{ form_start(form) }}


		<div class="text-lightText">{{ 'button.choose-file'|trans }}</div>
		<div class="relative flex items-center justify-between my-1 w-full rounded p-3 bg-white border-black border-2 mb-6">
			<div class="flex items-center gap-4">
				<div>
					<span class="text-textColor" id="filename">{{ 'message.noFile'|trans }}</span>
					{{ form_errors(form.imageFile) }}
				</div>
				<div class="preview" id="image-preview"></div>
			</div>
			<button type="button" class="btn-icon-right" id="open-input">
				{{ 'button.choose-file'|trans }} <span class="material-symbols-rounded">folder_open</span>
			</button>
			<div class="absolute top-0 left-0 hide-input">
				{{ form_widget(form.imageFile) }}
			</div>
		</div>

		{{ form_row(form.name) }}
		{{ form_errors(form) }}
		{{ form_row(form.recipe) }}

		<div class="flex justify-center items-center gap-6">
			<button type="button" class="btn btn-cancel w-36" hx-get="{{ path('app_management_gallery') }}">
				{{ 'button.cancel'|trans }}
			</button>
			<button type="submit" class="btn-icon-right btn-valid w-36 uppercase">
				{{ 'button.upload'|trans }} <span class="material-symbols-outlined button-icon">upload_file</span>
			</button>
		</div>

		{{ form_end(form) }}

	</div>

</form>